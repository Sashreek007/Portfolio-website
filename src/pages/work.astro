---
import Base from "../layouts/Base.astro";

const projects = [
  {
    name: "Streaks",
    description:
      "Currently working on a social media productivity web app where people announce goals publicly and hold each other accountable to complete them.",
    github: "https://github.com/Sashreek007/Streaks",
    production: "https://streaks-cult-mode.vercel.app/dashboard",
    best: true,
    current: true,
    stack: [],
  },
  {
    name: "FluxAtlas - Economic Trading Engine",
    description:
      "Full-stack auction simulation platform modeling international resource trading with Vickrey auction mechanisms across 50+ simulated countries.",
    github: "https://github.com/Aarushb/NH25_flux_Atlas",
    best: true,
    stack: ["FastAPI", "React", "PostgreSQL", "Python", "TypeScript", "REST API"],
  },
  {
    name: "Spam Detection Discord Bot",
    description:
      "Deployed scam detection bot that identifies and removes malicious messages in real time with low-latency inference.",
    github: "https://github.com/UndergraduateArtificialIntelligenceClub/Spam-Detection-Discord-Bot",
    best: true,
    stack: ["Python", "Discord.py", "Hugging Face"],
  },
  {
    name: "Balloon Popper - Gesture-Controlled Game",
    description:
      "Gesture-controlled arcade game with webcam-based hand tracking at 60 FPS and dynamic difficulty scaling.",
    github: "https://github.com/Sashreek007/fruit-ninja-hand-tracker",
    best: true,
    stack: ["Python", "MediaPipe", "Pygame", "OpenCV"],
  },
  {
    name: "LinkedIn Profile Summarizer",
    description:
      "Automated profile analysis pipeline combining web scraping and LLM processing to generate structured summaries.",
    github: "https://github.com/Sashreek007/Langchain_agent",
    stack: ["Python", "LangChain", "OpenAI API", "Scrapin API"],
  },
  {
    name: "ClubMate AI",
    description:
      "Currently working on an open-source automation platform for club operations, focused on intelligent task scheduling and document workflows.",
    github: "https://github.com/UndergraduateArtificialIntelligenceClub/Clubmate-AI",
    current: true,
    stack: ["Python", "LangChain", "LangGraph", "MCP"],
  },
];

const iconMap = {
  astro: "astro",
  react: "react",
  next: "nextdotjs",
  nextjs: "nextdotjs",
  "next.js": "nextdotjs",
  tailwind: "tailwindcss",
  tailwindcss: "tailwindcss",
  vite: "vite",
  node: "nodedotjs",
  nodejs: "nodedotjs",
  javascript: "javascript",
  typescript: "typescript",
  python: "python",
  java: "java",
  kotlin: "kotlin",
  go: "go",
  rust: "rust",
  php: "php",
  ruby: "ruby",
  c: "c",
  "c++": "cplusplus",
  "c#": "csharp",
  html: "html5",
  css: "css3",
  "jupyter notebook": "jupyter",
  supabase: "supabase",
  docker: "docker",
  firebase: "firebase",
  mongodb: "mongodb",
  postgres: "postgresql",
  postgresql: "postgresql",
  langchain: "langchain",
  openai: "openai",
  fastapi: "fastapi",
  flask: "flask",
  django: "django",
  express: "express",
  tensorflow: "tensorflow",
  pytorch: "pytorch",
  opencv: "opencv",
  mediapipe: "mediapipe",
  pygame: "python",
  "openaiapi": "openai",
  "discord.py": "discord",
  huggingface: "huggingface",
};

const toIconSlug = (name) => {
  if (!name) return null;
  const key = name.toLowerCase().replace(/\s+/g, "").replace(/_/g, "");
  return iconMap[key] || iconMap[name.toLowerCase()] || null;
};

const iconUrl = (name) => {
  const slug = toIconSlug(name);
  if (!slug) return null;
  return `https://cdn.simpleicons.org/${slug}/B6FFD9`;
};
---

<Base title="Projects | Sashreek Addanki" description="Selected projects by Sashreek Addanki">
  <section class="section stack">
    <div class="panel fade-up">
      <div class="lead">Projects I worked on and am currently working on in my free time.</div>
      <div class="subtle">Personal builds, experiments, and community projects.</div>
    </div>

    <div class="panel fade-up delay-1">
      <div class="project-filters" role="tablist" aria-label="Project filters">
        <button class="filter-button active" type="button" data-filter="best" role="tab" aria-selected="true">
          Best Work
        </button>
        <button class="filter-button" type="button" data-filter="all" role="tab" aria-selected="false">
          All
        </button>
        <button class="filter-button" type="button" data-filter="current" role="tab" aria-selected="false">
          In Progress
        </button>
      </div>
      <div class="projects" id="projectList">
        {projects.map((project) => (
          <article
            class="project-card"
            data-best={project.best ? "true" : "false"}
            data-current={project.current ? "true" : "false"}
          >
            <div class="project-header">
              <div class="project-name">{project.name}</div>
              <div class="project-links">
                {project.production && (
                  <a href={project.production} target="_blank" rel="noreferrer noopener">
                    visit site
                  </a>
                )}
                <a href={project.github} target="_blank" rel="noreferrer noopener">github</a>
              </div>
            </div>
            <div class="subtle">{project.description}</div>
            {project.stack.length > 0 && (
              <div class="tech-stack">
                {project.stack.map((item) => {
                  const icon = iconUrl(item);
                  return (
                    <span class="tech-item">
                      {icon && (
                        <span class="tech-icon">
                          <img
                            src={icon}
                            alt={`${item} icon`}
                            loading="lazy"
                            onerror="this.closest('.tech-icon')?.remove()"
                          />
                        </span>
                      )}
                      <span>{item}</span>
                    </span>
                  );
                })}
              </div>
            )}
          </article>
        ))}
      </div>
    </div>
  </section>

  <script type="module">
    const list = document.getElementById("projectList");
    const buttons = document.querySelectorAll(".filter-button");
    if (list && buttons.length) {
      const setActive = (target) => {
        buttons.forEach((btn) => {
          const isActive = btn === target;
          btn.classList.toggle("active", isActive);
          btn.setAttribute("aria-selected", String(isActive));
        });
      };

      const applyFilter = (filter) => {
        const cards = list.querySelectorAll(".project-card");
        cards.forEach((card) => {
          if (filter === "best") {
            card.style.display = card.dataset.best === "true" ? "" : "none";
          } else if (filter === "current") {
            card.style.display = card.dataset.current === "true" ? "" : "none";
          } else {
            card.style.display = "";
          }
        });
      };

      const defaultButton = document.querySelector(".filter-button[data-filter=\"best\"]");
      if (defaultButton) {
        setActive(defaultButton);
        applyFilter("best");
      } else {
        applyFilter("all");
      }

      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const filter = btn.dataset.filter || "all";
          setActive(btn);
          applyFilter(filter);
        });
      });
    }
  </script>
</Base>
